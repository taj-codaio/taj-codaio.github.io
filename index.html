<html>
  <head>
		<script type="text/javascript">
if ('serviceWorker' in navigator) {
  window.addEventListener('load', async () => {
    try {
      const registration = await navigator.serviceWorker.register('/sw/sw.js');
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    } catch (err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    }
  });
}
			async function doClick() {
					console.log('Clicked button - performing fetch');
					await fetch('/sw/sw.js');
			}
		</script>
  </head>
  <body>
		<b>Important: Reload this page once if this is your first visit to be sure the service worker is registered</b>
    On this page, clicking the button will try to fetch <code>/sw/sw.js</code>, but the service-worker will not hear about it.
		You will not see HELLO in the console log.
		<br/>
		<button onclick="doClick()">Click me</button>
		<br/>
		<a href="/sw/foo.html">Click here to see the working case</a>
  </body>
</html>
